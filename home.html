<DOCTYPE html>
<html>
    <head>
        <title>Quad- OS</title>
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="mstile-310x310.png" />
</head>
    <style>
        body {
            background-color: darkgray;
            z-index: 2;
        }
        .button {
            background-color: green;
            color: white;
            border: none;
            padding: 15px;
            margin: 4px 2px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            width: 15%;
            z-index: 2;
            position: relative;
            left: 1;
            display: inline-block;
            }
                .onoffswitch {
    position: relative; width: 100px;
    -webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;
}
.onoffswitch-checkbox {
    display: none;
}
.onoffswitch-label {
    display: block; overflow: hidden; cursor: pointer;
    border: 2px solid #999999; border-radius: 0px;
}
.onoffswitch-inner {
    display: block; width: 200%; margin-left: -100%;
    transition: margin 0.3s ease-in 0s;
}
.onoffswitch-inner:before, .onoffswitch-inner:after {
    display: block; float: left; width: 50%; height: 30px; padding: 0; line-height: 26px;
    font-size: 14px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;
    box-sizing: border-box;
    border: 2px solid transparent;
    background-clip: padding-box;
}
.onoffswitch-inner:before {
    content: "On";
    padding-left: 10px;
    background-color: green; color: #FFFFFF;
}
.onoffswitch-inner:after {
    content: "Off";
    padding-right: 10px;
    background-color: #CCCCCC; color: #333333;
    text-align: right;
}
.onoffswitch-switch {
    display: block; width: 30px; margin: 0px;
    background: #000000;
    position: absolute; top: 0; bottom: 0;
    right: 70px;
    transition: all 0.3s ease-in 0s; 
}
.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {
    margin-left: 0;
}
.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
    right: 0px; 
}
canvas {
  display:block;
  margin: 40px auto 20px;
  border: 1px solid #333;
  box-shadow: 0 0 16px 2px rgba(0,0,0,0.8);
  display: inline-block;
  right: 1px;
}
#boxButton {
    display: inline-block;
}

/*modal*/
/* The Modal (background) */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 10; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
}

/* The Close Button */
.close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}
    </style>
    <body id = "body1">
        <center>
            <h1>Quad-OS</h1>
        </center>
            <a href = "box.html" class = "button" id = "boxButton">Box</a>
            <br>
            <a href = "gse.html" class = "button">Google</a>
            <br>
            <a href = "game.html" class = "button">Game</a>
            <br>
            <a href = "about.html" class = "button">About</a>
            <br>
            <a href = "scribble.html" class = button>Scribble</a>
            <br>
            <!-- Trigger/Open The Modal -->
<button id = "mybtn">Box</button>

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">Ã—</span>
            <style type="text/css">
            body {
                background-color: darkgray;
            }
            h1, h3 {
                color: black;
                float: center;
            }
            hr {
                display: block;
                margin: 0.5em;
                border-style: inset;
                border-width: 1px;
            }
            .button {
            background-color: green;
            color: white;
            border: none;
            padding: 15px;
            margin: 4px 2px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            width: 15%;
            z-index-: 2;
            }
            input[type=text] {
                position: relative;
                width: 25%;
                box-sizing: border-box;
                border: 2px solid #ccc;
                border-radius: 4px;
                font-size: 16px;
                background-color: white;
                background-image: url('search_button.png');
                background-position: 4px 5px;
                background-repeat: no-repeat;
                padding: 12px 20px 12px 40px;
                -moz-transition: width 0.4s ease-in-out;
                -webkit-transition: width 0.4s ease-in-out;
                -o-transition: width 0.4s ease-in-out;
                transition: width 0.4s ease-in-out;
            }
            input[type=text]:focus {
                width: 70%;
            }
            .speech {
                position: 4px 5px;
            }
            .divboxout {
                position: absolute;
                width: 120px;
                height: 120px;
                left: 50%;
                top: 190px;
                transform: translateX(-50%);
                -wekbit-animation-name: boxin;
                -wekbit-animation-duration: 10s;
                -wekbit-animation-iteration-count: infinite;
                z-index: -2;
                animation-name: boxout;
                animation-duration: 10s;
                animation-iteration-count: infinite;
            }
            .divboxin {
                position: absolute;
                width: 110px;
                height: 110px;
                left: 50%;
                top: 195px;
                transform: translateX(-50%);
                -wekbit-animation-name: boxout;
                -wekbit-animation-duration: 10s;
                -wekbit-animation-iteration-count: infinite;
                z-index: -1;
                animation-name: boxin;
                animation-duration: 10s;
                animation-iteration-count: infinite;
            }
            @keyframes boxout {
                0% {
                    background-color: #000000;
                }
                25% {
                    background-color: darkgray;
                }
                50% {
                    background-color: #00ff00;
                }
                75% {
                    background-color: darkgray;
                }
                100% {
                    background-color: #000000;
                }
            }
            @keyframes boxin {
                0% {
                    background-color: #00ff00;
                }
                25% {
                    background-color: darkgray;
                }
                50% {
                    background-color: #000000;
                }
                75% {
                    background-color: darkgray;
                }
                100% {
                    background-color: #00ff00;
                }
            }
            #canvas {
                display:block;
                margin: 40px auto 20px;
                border: 1px solid #333;
                box-shadow: 0 0 16px 2px rgba(0, 0, 0, 0.8);
            }
            .speech img {
                float:width: 40px;
            }
        </style>
        <center>
           <h1>BOX</h1>

            </a>

             <h3>Hello user! I am box. What can I do for you?</h3>
             <br>
             <div class="divboxout"></div>
             <div class="divboxin"></div>
             <div class="divboxborder1"></div>
             <div class="divboxborder2"></div>
             
             <a href = "home.html" class = "button">Home</a>
             <br><br><br><br><br><br><br><br><br><br>
             <form id="labnol" method="get" action="https://www.google.com/search">
             <div class="speech">
                <img onclick="startDictation()" src="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-ios7-mic-128.png" width = 25px />
             </div>
             </form>
             <div class = "file">
                 <input type="file" id="fileinput">
            </div>
            <p>Question (Searched in DataBase)</p>
            <p>
                    <input type="text" id="uq"/>
                    <button class = "button" onclick="question();" href="javascript:;">Submit</button>
            </p>
        </center>
        <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
        <script>
        var keytermm = "asd";
        var answerd = "asd";
        function readMultipleFiles(evt) {
            //Retrieve all the files from the FileList object
            var files = evt.target.files; 
    		
            if (files) {
                for (var i=0, f; f=files[i]; i++) {
	                var r = new FileReader();
                    r.onload = (function(f) {
                        return function(e) {
                            var contentsd = e.target.result;
                            alert(contentsd);
                            var array = contentsd.split(',');
                            keytermm = array.slice(0,(array.length / 2));
                            answerd = array.slice((array.length / 2),array.length);
                            
                        };
                    })(f);

                r.readAsText(f);
                }   
        } else {
	          alert("Failed to load files"); 
        }
      }
  
      document.getElementById('fileinput').addEventListener('change', readMultipleFiles, false);
            var audio;
            var das = 0;
            var c = document.getElementById("myCanvas");
            var ctx = c.getContext("2d");


            function startDictation() {

                if (window.hasOwnProperty('webkitSpeechRecognition')) {

                    var recognition = new webkitSpeechRecognition();

                    recognition.continuous = false;
                    recognition.interimResults = false;

                    recognition.lang = "en-US";
                    recognition.start();

                    recognition.onresult = function(e) {
                        document.getElementById('uq').value = e.results[0][0].transcript;
                        recognition.stop();
                        var u = document.getElementById('uq').value;
                        document.getElementById('uq').value = u;
                        question();
                    };

                    recognition.onerror = function(e) {
                        window.alert("err");
                        recognition.stop();
                    }

                }
            }

            function wow() {
                var sounds = document.getElementsByTagName('audio');
                for (i = 0; i < sounds.length; i++) sounds[i].pause();
            };



            var ng = 0;

            function question() {
                var aodio = das % 10;
                audio = new Audio("snd" + aodio + '.mp3');
                audio.load();
                var currentTime = new Date()
                var hours = currentTime.getHours()
                var minutes = currentTime.getMinutes()

                if (minutes < 10) {
                    minutes = "0" + minutes;
                }
                if (document.getElementById('uq').value == "/time") {
                    window.alert("its " + hours + ":" + minutes);

                }
                if (document.getElementById('uq').value.indexOf("/music") > -1) {
                    audio.pause();
                    audio.currentTime = 0;
                    window.alert("changing music..");
                    das = document.getElementById('uq').value.charAt(6);
                    window.alert("soundtrack is now soundtrack " + das % 10);
                    audio.pause();
                    return;

                }
                if (document.getElementById('uq').value == "/clear") {
                    localStorage.clear();
                    window.alert("loacal storage cleared");
                    return;

                }
                audio.pause();
                audio.currentTime = 0.0;
                var empty = [];
                var i = 0;
                var greeting_results = "";
                var found = false;
                var greetingWords = ["hello box", "hi box", "good morning box", "good evening box", "good night box"];
                var fivequestions = [];
                var result = [];
                wow();

                function greeting(wordlist, main, resultlist, different) {
                    empty = [];
                    i = 0;
                    greeting_results = main.join(" ");
                    while (i <= greeting_results.length) {
                        if (greeting_results.indexOf(wordlist[i]) > -1) {
                            result = [/*wordlist[i]*/ "Hello" + " to you also!", "I'm good!", "I dont know how", "Im box, your personal assistant", "I don't know who they are", "I dont know your name, but I know your my friend :)", "I dont know who", "use /time to find the time", "Bored? do /game to play our game", "Did I hear the word game? I love games! do /game to play our featured game", "I don't know when"]
                             if ((greeting_results[greeting_results.indexOf(wordlist[i])-1] == " "  ||greeting_results.indexOf(wordlist[i])-1 < 0) && (greeting_results[greeting_results.indexOf(wordlist[i])+wordlist[i].length] == " " || greeting_results.indexOf((wordlist[i])+wordlist[i].length) < 0)){
                            
                                if (different == 1) {
                                    window.alert(result[resultlist + i]);
                                    responsiveVoice.speak(result[resultlist + i])
                                } else {
                                    window.alert(result[resultlist]);
                                    responsiveVoice.speak(result[resultlist])
                                }
                                empty.push(main[i]);
                                found = true;
                                break;
                            }
                        }
                        i = i + 1;
                    }
                }
                var v = "";
                var str = document.getElementById('uq').value;
                str = str.toLowerCase();
                var charactder = "";
                var j = 0;
                var calc = "";
                var userQ = [];
                var countwords = 0;
                var n = str.length;
                var z = "";
                var character = "";
                while (j <= n) {
                    if (str.charAt(j) == " " || n == j || str.charAt(j) == "/" || str.charAt(j) == "*" || str.charAt(j) == "-" || str.charAt(j) == "+") {
                        if (countwords === "") {
                            z = z + "First word/ " + charactder;
                            userQ.push(charactder);
                            charactder = '';
                            countwords++;
                        } else {
                            z = z + " // " + charactder;
                            if (str.charAt(j) == "/" || str.charAt(j) == "*" || str.charAt(j) == "-" || str.charAt(j) == "+") {
                                userQ.push(charactder);
                                charactder = str.charAt(j);
                                userQ.push(charactder);
                                countwords++;

                            } else {
                                userQ.push(charactder);
                            }
                            charactder = '';
                            countwords++;
                        }
                    } else {
                        charactder = charactder + str.charAt(j);
                    }
                    j++;
                }

                if (userQ.indexOf("/") != -1 || userQ.indexOf("*") != -1 || userQ.indexOf("-") != -1 || userQ.indexOf("+") != -1) {
                    calc = eval(str);
                    window.alert(calc);
                }
                // listto check, UserQ, item for response, 1 = move, 0 = individual/same.
                var listdata = [];
                var ansdata = [];
                if (localStorage.ansdata) {
                    window.alert("answer AI loaded!");
                    var test2 = localStorage.getItem("listdata");
                    listdata = JSON.parse(test2);
                    test2 = localStorage.getItem("ansdata");
                    ansdata = JSON.parse(test2);
                } else {
                    window.alert("No answer AI in local storage. creating one..");
                    localStorage.setItem("listdata", JSON.stringify(listdata));
                    localStorage.setItem("ansdata", JSON.stringify(ansdata));
                    var test2 = localStorage.getItem("listdata");
                    listdata = JSON.parse(test2);
                    test2 = localStorage.getItem("ansdata");
                    ansdata = JSON.parse(test2); //var test is now re-loaded!
                }
                //window.alert(ansdata);
                //window.alert(listdata);
                var zeta = userQ.join(" ");
                var reedy;
                if (zeta == ".clr") {
                    if (listdata.length != 0) {
                        reedy = prompt("are you sure? the things you going to delete are : " + listdata[listdata.length - 1] + " as the keyterm and " + ansdata[ansdata.length - 1] + " as the answer. Say yes or no ")
                        if (reedy = "yes") {
                            ansdata.pop();
                            listdata.pop();
                            localStorage.setItem("listdata", JSON.stringify(listdata));
                            localStorage.setItem("ansdata", JSON.stringify(ansdata));
                            return;
                        } else {
                            window.alert("deletion canceled");
                            return;
                        }

                    } else {
                        window.alert("error: empty");
                        localStorage.clear();
                        return;
                    }
                }
                if (zeta == ".download") {
                    var textToSave = listdata.concat(ansdata);
                    var hiddenElement = document.createElement('a');
                    hiddenElement.href = 'data:attachment/text,' + encodeURI(textToSave);
                    hiddenElement.target = '_blank';
                    hiddenElement.download = 'localStorage.txt';
                    hiddenElement.click();
                    return;

                }
                
                if (zeta == ".replace" && keytermm !== "asd"){
                    var replaceLocal = prompt("are you sure you want to replace localstorage?");
                    if (replaceLocal == "yes"){
                        localStorage.clear();
                        ansdata = answerd;
                        listdata = keytermm;
                        localStorage.setItem("listdata", JSON.stringify(listdata));
                        localStorage.setItem("ansdata", JSON.stringify(ansdata));
                        return;
                    }else{
                        window.alert("canceled");
                        return;
                    }
                }
                
                if (zeta == ".add" && keytermm !== "asd"){
                    var replaceLocal = prompt("are you sure you want to add localstorage?");
                    if (replaceLocal == "yes"){
                        localStorage.clear();
                        ansdata = ansdata.concat(answerd);
                        listdata = listdata.concat(keytermm);
                        localStorage.setItem("listdata", JSON.stringify(listdata));
                        localStorage.setItem("ansdata", JSON.stringify(ansdata));
                        return;
                    }else{
                        window.alert("canceled");
                        return;
                    }
                }
                
                
                

                greeting(greetingWords, userQ, 0, 0);
                if (found == false) {
                    i = 0;
                    while (i < listdata.length) {
                        if (zeta.indexOf(listdata[i]) !== -1) {
                            window.alert(ansdata[i]);
                            responsiveVoice.speak(ansdata[i]);
                            found = true;
                            break;
                        }
                        i++;
                    }
                }
                if (found == false) {
                    var ask = prompt("Please enter what i was supposed to say, or you can leave it blank");
                    if (ask !== null && ask != "") {
                        var keywerd = prompt("Please key words");
                        keywerd = keywerd.toLowerCase();
                        ask = ask.toLowerCase();
                        ansdata.push(ask);
                        listdata.push(keywerd);
                        localStorage.setItem("listdata", JSON.stringify(listdata));
                        localStorage.setItem("ansdata", JSON.stringify(ansdata));
                    } else {
                        window.alert("its ok if youre shy :)");
                    }
                }

                audio.pause();
                audio.play();

                //beta-test

                //  not needed anymore :D  window.alert(userQ[0] + " is the first word and " + userQ[userQ.length - 1] + " is the last word");

            }
        </script>

  </div>

</div>

        <script>
/*<h1>Fullscreen</h1>
<div class="onoffswitch">
    <input type='checkbox' onclick="toggleFullScreen()" name="onoffswitch2" class="onoffswitch-checkbox" id="myonoffswitch2" checked>
    <label class="onoffswitch-label" for="myonoffswitch2">
        <span class="onoffswitch-inner"></span>
        <span class="onoffswitch-switch"></span>
    </label>
</div>

<h1>Allow Box</h1>
            <div class="onoffswitch">
    <input type='checkbox' store="checkbox1" onclick="if(this.checked){boxAllowed()} else {boxNotAllowed()}"name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
    <label class="onoffswitch-label" for="myonoffswitch">
        <span class="onoffswitch-inner"></span>
        <span class="onoffswitch-switch"></span>
    </label>
        <script>
        </div>
        */
        /*    function toggleFullScreen() {
  if ((document.fullScreenElement && document.fullScreenElement !== null) ||    
   (!document.mozFullScreen && !document.webkitIsFullScreen)) {
    if (document.documentElement.requestFullScreen) {  
      document.documentElement.requestFullScreen();  
    } else if (document.documentElement.mozRequestFullScreen) {  
      document.documentElement.mozRequestFullScreen();  
    } else if (document.documentElement.webkitRequestFullScreen) {  
      document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  
    }  
  } else {  
    if (document.cancelFullScreen) {  
      document.cancelFullScreen();  
    } else if (document.mozCancelFullScreen) {  
      document.mozCancelFullScreen();  
    } else if (document.webkitCancelFullScreen) {  
      document.webkitCancelFullScreen();  
    }  
  }  
}
            var boxStatus = 0;
            function boxNotAllowed() {
                document.getElementById("boxButton").style.visibility = "hidden";
                boxStatus = 0;
            }
            function boxAllowed() {
                document.getElementById("boxButton").style.visibility = "visible";
                boxStatus = 1;
            }
            (function() {
    var boxes = document.querySelectorAll("input[type='checkbox']");
    for (var i = 0; i < boxes.length; i++) {
        var box = boxes[i];
        if (box.hasAttribute("store")) {
            setupBox(box);
        }
    }
    
    function setupBox(box) {
        var storageId = box.getAttribute("store");
        var oldVal    = localStorage.getItem(storageId);
        console.log(oldVal);
        box.checked = oldVal === "true" ? true : false;
        
        box.addEventListener("change", function() {
            localStorage.setItem(storageId, this.checked); 
        });
    }
})();
            if(boxStatus = 1){
                boxAllowed();
                
            } else {
                boxNotAllowed();
            }*/
            // Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
        </script>
    </body>
</html>
